function handle(a){switch(a.type){case"click":vote(a);break;case"touchstart":touchStart(a);break;case"touchmove":touchMove(a);break;case"touchend":!function(a){setTimeout(touchEnd(a),0)}(a)}}function vote(a){a.stopPropagation();var b=a.target;if("ul"!==b.tagName.toLowerCase()){for(var b=b.parentNode;"li"!==b.tagName.toLowerCase();)b=b.parentNode;var c="active"===b.className,d=5!==num||c;if(!d)return alert("\u6700\u591a\u53ea\u80fd\u7ed9 5 \u4e2a\u4eba\u6295\u7968\uff01"),void 0;b.className="active"===b.className?"":"active",num+=c?-1:1}}function translate(a,b,c){a&&(style.webkitTransitionDuration=style.MozTransitionDuration=style.msTransitionDuration=style.OTransitionDuration=style.transitionDuration=c+"ms",style.webkitTransform="translate(0,"+b+"px)"+"translateZ(0)",style.msTransform=style.MozTransform=style.OTransform="translateY("+b+"px)")}function touchStart(a){var b=a.touches[0];start={x:b.pageX,y:b.pageY,time:+new Date},delta={},doc.addEventListener("touchmove",handle,!1),doc.addEventListener("touchend",handle,!1)}function touchMove(a){a.preventDefault();var c,b=a.touches[0];delta={x:b.pageX-start.x,y:b.pageY-start.y},t=tEnd+delta.y,c=t>0||-fixHeight>t,Linkage=c?1:~~a.stopPropagation(),t=c?t>0?t/3:-fixHeight+(t+fixHeight)/3:t,translate(style,t,0)}function touchEnd(){var b=+new Date-start.time,c=Math.floor(100*(delta.y/b));0!==~~c&&(t=t>0?0:-fixHeight>t?-fixHeight:t,translate(style,t,300),0>t&&t>-fixHeight&&(t+=c,t=t>0||-fixHeight>t?t>0?t/5:-fixHeight+(t+fixHeight)/5:t,translate(style,t,300),t=t>0?0:-fixHeight>t?-fixHeight:t,setTimeout(function(){translate(style,t,200)},300)),tEnd=t,doc.removeEventListener("touchmove",handle,!1),doc.removeEventListener("touchend",handle,!1))}function scroll(a){function o(){for(l=0,n=0;f>n;n++){var b=e[n];m=b.getBoundingClientRect().height||b.offsetHeight,m=g>m?g:m,j[n+1]=m,b.setAttribute("data-index",n+1),b.style.height=m+"px",l+=m}d.style.height=l+"px",a.style.visibility="visible",a.style.height=g+"px"}function p(a){return(3+a%3)%3}function q(a,b,c){var d=e[a];r(d,b,c)}function r(a,b,c){var d=a&&a.style;d&&(d.webkitTransitionDuration=d.MozTransitionDuration=d.msTransitionDuration=d.OTransitionDuration=d.transitionDuration=c+"ms",d.webkitTransform="translate(0,"+b+"px)"+"translateZ(0)",d.msTransform=d.MozTransform=d.OTransform="translateY("+b+"px)")}function s(a,b,c){var e=1===b?-j[h+1]+k:j[h]+k;r(d,e,c),k=e,h=p(a+b)}var b=function(){},c=function(a){setTimeout(a||b,0)};if(a){var l,m,n,d=a.children[0],e=d.children,f=e.length,g=document.documentElement.clientHeight,h=0,j=[],k=0;events={handleEvent:function(a){switch(a.type){case"touchstart":this.start(a);break;case"touchmove":this.move(a);break;case"touchend":c(this.end(a));break;case"resize":c(o)}a.stopPropagation()},start:function(a){fix=g-j[h+1],"undefined"==typeof dis&&(dis=0);var b=a.touches[0];start={x:b.pageX,y:b.pageY,time:+new Date},delta={},d.addEventListener("touchmove",this,!1),d.addEventListener("touchend",this,!1)},move:function(a){a.preventDefault();var b=a.touches[0];delta={x:b.pageX-start.x,y:b.pageY-start.y},0!==Linkage&&(Linkage=0,delta.y/=1.5),tmp=dis+delta.y,tmp=tmp>0||fix>tmp?tmp>0?tmp/3:fix+(tmp-fix)/3:tmp,q(p(h-1),tmp,0),q(h,tmp,0),q(p(h+1),tmp,0)},end:function(){var b=g-j[h],c=g-j[h+1],e=+new Date-start.time,f=tmp>0?-1:1,i=Number(e)<150&&Math.abs(tmp)>120||tmp>g/6.5||fix-g/6.5>tmp,k=!(-1===f&&0===h||1===f&&2===h);i&&k?(1===f?(q(p(h-1),0,500),q(h,0,500),q(p(h+1),0,500),dis=tmp=0):(q(h,b,500),q(p(h+1),b,500),q(p(h+2),b,500),dis=b),s(h,f,500)):Math.abs(tmp)>Math.abs(c)||tmp>0?1!==f?(q(p(h-1),0,300),q(h,0,300),q(p(h+1),0,300),dis=0):(q(p(h-1),c,300),q(h,c,300),q(p(h+1),c,300),dis=c):dis=tmp,d.removeEventListener("touchmove",events,!1),d.removeEventListener("touchend",events,!1)}},o(),d.addEventListener("touchstart",events,!1),window.addEventListener("resize",events,!1)}}window.onload=function(){document.body.style.fontSize=.05*~~document.documentElement.clientHeight+"px",scroll(sc)},window.onresize=function(){document.body.style.fontSize=.05*~~document.documentElement.clientHeight+"px"};var doc=document.querySelector("ul"),len=doc.children.length,style=doc&&doc.style,liHeight=doc.children[0].getBoundingClientRect().height||doc.children[0].offsetHeight,fixHeight=liHeight*(len-6)-24,tEnd=0,num=0,Linkage=0,t;style.height=liHeight*len+"px",doc.addEventListener("click",handle,!1),doc.addEventListener("touchstart",handle,!1);var sc=document.getElementById("scroll");